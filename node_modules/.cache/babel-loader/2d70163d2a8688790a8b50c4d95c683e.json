{"ast":null,"code":"import { useState, useEffect } from \"react\";\nconst API_ENDPOINT = `https://www.omdbapi.com/?apikey=${process.env.REACT_APP_MOVIE_DB}`;\n\nconst useFetch = urlParams => {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const [error, setError] = useState({\n    show: false,\n    msg: \"\"\n  });\n\n  const fetchMovies = async url => {\n    setLoading(true);\n\n    try {\n      const resp = await fetch(url);\n      const data = await resp.json();\n\n      if (data.Response === \"True\") {\n        setData(data.Search || data);\n        setError({\n          show: false,\n          msg: \"\"\n        });\n      } else {\n        setError({\n          show: true,\n          msg: data.Error\n        });\n      }\n\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchMovies(`${API_ENDPOINT}${urlParams}`);\n  }, [urlParams]);\n  return {\n    loading,\n    data,\n    error\n  };\n};\n\nexport default useFetch;","map":{"version":3,"names":["useState","useEffect","API_ENDPOINT","process","env","REACT_APP_MOVIE_DB","useFetch","urlParams","loading","setLoading","data","setData","error","setError","show","msg","fetchMovies","url","resp","fetch","json","Response","Search","Error","console","log"],"sources":["/home/cent_kanayo/jenkins/jendoc/setup/src/useFetch.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nconst API_ENDPOINT = `https://www.omdbapi.com/?apikey=${process.env.REACT_APP_MOVIE_DB}`;\nconst useFetch = (urlParams) => {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const [error, setError] = useState({ show: false, msg: \"\" });\n\n  const fetchMovies = async (url) => {\n    setLoading(true);\n    try {\n      const resp = await fetch(url);\n      const data = await resp.json();\n      if (data.Response === \"True\") {\n        setData(data.Search || data);\n        setError({ show: false, msg: \"\" });\n      } else {\n        setError({ show: true, msg: data.Error });\n      }\n      setLoading(false);\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchMovies(`${API_ENDPOINT}${urlParams}`);\n  }, [urlParams]);\n\n  return { loading, data, error };\n};\nexport default useFetch;\n"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,MAAMC,YAAY,GAAI,mCAAkCC,OAAO,CAACC,GAAR,CAAYC,kBAAmB,EAAvF;;AACA,MAAMC,QAAQ,GAAIC,SAAD,IAAe;EAC9B,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC;IAAEc,IAAI,EAAE,KAAR;IAAeC,GAAG,EAAE;EAApB,CAAD,CAAlC;;EAEA,MAAMC,WAAW,GAAG,MAAOC,GAAP,IAAe;IACjCR,UAAU,CAAC,IAAD,CAAV;;IACA,IAAI;MACF,MAAMS,IAAI,GAAG,MAAMC,KAAK,CAACF,GAAD,CAAxB;MACA,MAAMP,IAAI,GAAG,MAAMQ,IAAI,CAACE,IAAL,EAAnB;;MACA,IAAIV,IAAI,CAACW,QAAL,KAAkB,MAAtB,EAA8B;QAC5BV,OAAO,CAACD,IAAI,CAACY,MAAL,IAAeZ,IAAhB,CAAP;QACAG,QAAQ,CAAC;UAAEC,IAAI,EAAE,KAAR;UAAeC,GAAG,EAAE;QAApB,CAAD,CAAR;MACD,CAHD,MAGO;QACLF,QAAQ,CAAC;UAAEC,IAAI,EAAE,IAAR;UAAcC,GAAG,EAAEL,IAAI,CAACa;QAAxB,CAAD,CAAR;MACD;;MACDd,UAAU,CAAC,KAAD,CAAV;IACD,CAVD,CAUE,OAAOG,KAAP,EAAc;MACdY,OAAO,CAACC,GAAR,CAAYb,KAAZ;MACAH,UAAU,CAAC,KAAD,CAAV;IACD;EACF,CAhBD;;EAkBAR,SAAS,CAAC,MAAM;IACde,WAAW,CAAE,GAAEd,YAAa,GAAEK,SAAU,EAA7B,CAAX;EACD,CAFQ,EAEN,CAACA,SAAD,CAFM,CAAT;EAIA,OAAO;IAAEC,OAAF;IAAWE,IAAX;IAAiBE;EAAjB,CAAP;AACD,CA5BD;;AA6BA,eAAeN,QAAf"},"metadata":{},"sourceType":"module"}